(this["webpackJsonpquicko-webapp"]=this["webpackJsonpquicko-webapp"]||[]).push([[0],{101:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),l=n.n(o);n(101),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(14),u=n(61),i=n(8),d=n(13),f=n(78),s=n(144),m=n(9),b=n(26);function p(){var e=Object(i.a)(["\n    && {\n      ","\n    }\n  "]);return p=function(){return e},e}var v=function(e){return function(t){return Object(d.a)(e)(p(),t)}};function y(){var e=Object(i.a)(["\n  text-align: center;\n  width: 100%;\n"]);return y=function(){return e},e}function k(){var e=Object(i.a)(["\n  border: 2px dashed black;\n  border-radius: 5px;\n  height: calc(100% - 23px);\n  text-align: center;\n  margin: 10px;\n  display: flex;\n  align-items: center;\n"]);return k=function(){return e},e}function E(){var e=Object(i.a)(["\n  width: 400px;\n  margin: 16px;\n"]);return E=function(){return e},e}var O=Object(d.a)(s.a)(E()),j=d.a.div(k()),g=d.a.p(y()),h=function(e){var t=e.loadFile,n=Object(a.useCallback)((function(e){e.forEach((function(e){var n=new FileReader;n.onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.onload=function(){var e=function(e){var t=JSON.parse(e);return t={playbooks:JSON.parse(t.playbooks),tasks:JSON.parse(t.tasks)}}(n.result);t(e)},n.readAsText(e)}))}),[t]),o=Object(f.a)({onDrop:n}),l=o.getRootProps,c=o.getInputProps;return r.a.createElement(O,null,r.a.createElement(j,l(),r.a.createElement("input",c()),r.a.createElement(g,null,"Drag 'n' drop your quicko file here,",r.a.createElement("br",null),"or click to upload it")))},C=n(15),x=n(17),F=n(110),T=n(148),P=n(111),I=n(149),w=n(163),A=n(150);function S(){var e=Object(i.a)(["\n  width: 100%;\n"]);return S=function(){return e},e}function D(){var e=Object(i.a)(["\n  width: 400px;\n  margin: 16px;\n"]);return D=function(){return e},e}var R={"477749ad-99f2-4aaf-bdd6-e39da2e568ae":{id:"477749ad-99f2-4aaf-bdd6-e39da2e568ae",name:"New playbook",description:"",parameters:[],tasks:[]}},_=Object(d.a)(s.a)(D()),N=Object(d.a)(F.a)(S()),U=function(e){var t=e.loadFile,n=Object(a.useState)([]),o=Object(x.a)(n,2),l=o[0],c=o[1];return r.a.createElement(_,null,r.a.createElement(T.a,{dense:!0,component:"div",role:"list"},["Angular","ReactJS","Symfony","NestJS"].map((function(e){var t="transfer-list-item-".concat(e,"-label");return r.a.createElement(P.a,{key:e,role:"listitem",button:!0,onClick:function(){return function(e){var t=l.includes(e)?Object(C.a)(l.filter((function(t){return t!==e}))):[].concat(Object(C.a)(l),[e]);c(t)}(e)}},r.a.createElement(I.a,null,r.a.createElement(w.a,{checked:-1!==l.indexOf(e),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(A.a,{id:t,primary:e}))})),r.a.createElement(P.a,null)),r.a.createElement(N,{variant:"contained",color:"primary",onClick:function(){return t({tasks:{},playbooks:R})}},"Create new quicko file"))},L=n(19);function V(){var e=Object(i.a)(["\n  max-width: 850px;\n  display: flex;\n  margin: auto;\n  justify-content: space-between;\n"]);return V=function(){return e},e}var B=d.a.div(V()),J=Object(c.b)((function(){return{}}),(function(e){return{loadFile:function(t){return document.getElementById("page-wrapper").style.display="none",e(Object(L.g)(t))}}}))((function(e){var t=e.loadFile;return r.a.createElement(B,null,r.a.createElement(h,{loadFile:t}),r.a.createElement(U,{loadFile:t}))}));function K(){var e=Object(i.a)(["\n  height: 100%;\n  overflow: auto;\n  padding: 0;\n"]);return K=function(){return e},e}var M,q,Y,W,X=v(T.a)(K()),z=Object(c.b)((function(e){return{playbooks:Object.values(e.playbooks)}}),(function(e){return{addPlaybook:function(){return e(Object(L.e)())}}}))((function(e){var t=e.playbooks,n=e.selectedPlaybookId,a=e.setSelectedPlaybookId,o=e.addPlaybook;return r.a.createElement(X,{component:"nav"},t.map((function(e){return r.a.createElement(P.a,{key:e.id,button:!0,selected:e.id===n,onClick:function(){return a(e.id)}},e.name?r.a.createElement(A.a,{primary:e.name}):r.a.createElement(A.a,{secondary:"UNNAMED"}))})),r.a.createElement(P.a,{button:!0,onClick:o},r.a.createElement(A.a,{primary:"Add playbook"})))})),H=n(43),$=n(161),G=n(159);!function(e){e.CreateFile="CREATE_FILE",e.ExecuteCommand="EXECUTE_COMMAND",e.ExecutePlaybook="EXECUTE_PLAYBOOK",e.ExecuteCodemod="EXECUTE_CODEMOD",e.TypescriptTransformationOnFile="TYPESCRIPT_TRANSFORMATION_ON_FILE"}(q||(q={})),function(e){e.Root="ROOT",e.UserInput="USER_INPUT",e.Value="VALUE"}(Y||(Y={})),function(e){e.UserInput="USER_INPUT",e.Value="VALUE"}(W||(W={}));var Q="TEXT",Z="FOLDER_PATH",ee="FILE_PATH",te="CODE",ne="PLAYBOOK",ae=(M={},Object(m.a)(M,q.CreateFile,{key:q.CreateFile,label:"File creation",fields:[{name:"parentFolderPath",label:"Parent folder path",type:Z},{name:"fileName",label:"File name",type:Q},{name:"fileContent",label:"File content",type:te}]}),Object(m.a)(M,q.ExecuteCommand,{key:q.ExecuteCommand,label:"Command execution",fields:[{name:"command",label:"Command",type:te}]}),Object(m.a)(M,q.ExecuteCodemod,{key:q.ExecuteCodemod,label:"Codemod execution",fields:[{name:"codemod",label:"Codemod",type:te}]}),Object(m.a)(M,q.ExecutePlaybook,{key:q.ExecutePlaybook,label:"Playbook execution",fields:[{name:"playbookId",label:"Playbook",type:ne}]}),Object(m.a)(M,q.TypescriptTransformationOnFile,{key:q.TypescriptTransformationOnFile,label:"Typescript ts-morph transformation on file",fields:[{name:"filePath",label:"File to edit",type:ee},{name:"transformationCode",label:"Ts-morph transformation code",type:te}]}),M),re=n(22),oe=n(164),le=n(157),ce=n(155),ue=n(156),ie=n(158),de=n(77),fe=n.n(de),se=n(62),me=n.n(se),be=(n(106),n(107),n(108),function(e){var t=e.value,n=void 0===t?"":t,o=e.onChange;return r.a.createElement(a.Fragment,null,r.a.createElement(fe.a,{value:n,onValueChange:function(e){return o(e)},highlight:function(e){return me.a.highlight(e,me.a.languages.javascript,"javascript")},padding:10,style:{backgroundColor:"rgb(250, 250, 250)",fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}}))}),pe=function(e){var t=e.value,n=void 0===t?"":t,a=e.onChange;return r.a.createElement($.a,{autoComplete:"off",value:n,onChange:function(e){return a(e.target.value)}})},ve=n(160),ye=n(153),ke=function(e){return Object.values(e.playbooks)},Ee=Object(c.b)((function(e){return{playbooks:ke(e)}}))((function(e){var t=e.playbooks,n=e.value,a=void 0===n?"":n,o=e.onChange;return r.a.createElement(ve.a,{value:a,onChange:function(e){return o(e.target.value)}},t.map((function(e){return r.a.createElement(ye.a,{key:e.id,value:e.id},e.name)})))})),Oe=n(154),je=n(162),ge=n(166);function he(){var e=Object(i.a)(["\n  flex-direction: row;\n"]);return he=function(){return e},e}var Ce=v(ge.a)(he()),xe=function(e){var t=e.value,n=void 0===t?{type:null}:t,o=e.onChange,l=n.type,c=n.value,u=l===Y.Value;return r.a.createElement(a.Fragment,null,r.a.createElement(Ce,{onChange:function(e,t){return o({type:t})}},r.a.createElement(Oe.a,{control:r.a.createElement(je.a,null),label:"Root",value:Y.Root}),r.a.createElement(Oe.a,{control:r.a.createElement(je.a,null),label:"From user input",value:Y.UserInput}),r.a.createElement(Oe.a,{control:r.a.createElement(je.a,null),label:"At specific location",value:Y.Value})),u&&r.a.createElement(a.Fragment,null,r.a.createElement(H.a,null,"File location"),r.a.createElement($.a,{autoComplete:"off",value:c,onChange:function(e){return o({type:Y.Value,value:e.target.value})}})))};function Fe(){var e=Object(i.a)(["\n  flex-direction: row;\n"]);return Fe=function(){return e},e}var Te=v(ge.a)(Fe()),Pe=function(e){var t=e.value,n=void 0===t?{type:null}:t,o=e.onChange,l=n.type,c=n.value,u=l===W.Value;return r.a.createElement(a.Fragment,null,r.a.createElement(Te,{onChange:function(e,t){return o({type:t})}},r.a.createElement(Oe.a,{control:r.a.createElement(je.a,null),label:"From user input",value:W.UserInput}),r.a.createElement(Oe.a,{control:r.a.createElement(je.a,null),label:"At specific location",value:W.Value})),u&&r.a.createElement(a.Fragment,null,r.a.createElement(H.a,null,"File location"),r.a.createElement($.a,{autoComplete:"off",value:c,onChange:function(e){return o({type:W.Value,value:e.target.value})}})))},Ie=function(e){var t,n=e.task,o=e.field,l=e.updateTaskFields,c=o.name,u=o.type,i=o.label,d=n[c];switch(u){case te:t=be;break;case Q:t=pe;break;case ne:t=Ee;break;case Z:t=xe;break;case ee:t=Pe;break;default:t=a.Fragment}return r.a.createElement(a.Fragment,null,r.a.createElement(H.a,null,i),r.a.createElement(t,{value:d,onChange:function(e){return l(Object(m.a)({},c,e))}}))};function we(){var e=Object(i.a)(["\n  position: static\n"]);return we=function(){return e},e}function Ae(){var e=Object(i.a)(["\n  flex-direction: column;\n"]);return Ae=function(){return e},e}var Se=v(ce.a)(Ae()),De=v(ue.a)(we()),Re=Object(c.b)((function(e,t){var n=e.tasks[t.taskId];return{task:n,taskType:ae[n.type]}}),(function(e,t){return{updateTaskFields:function(n){return e(Object(re.f)(t.taskId,n))}}}))((function(e){var t=e.task,n=e.taskType,a=e.updateTaskFields,o=e.deleteTask,l=t.id;return r.a.createElement(oe.a,{defaultExpanded:!0},r.a.createElement(le.a,null,r.a.createElement(H.a,null,n.label)),r.a.createElement(De,null),r.a.createElement(Se,null,n.fields.map((function(e){return r.a.createElement(Ie,{key:e.name,task:t,field:e,updateTaskFields:a})}))),r.a.createElement(De,null),r.a.createElement(ie.a,null,r.a.createElement(F.a,{size:"small",onClick:function(){return o(l)}},"Delete")))})),_e=n(167);function Ne(){var e=Object(i.a)(["\n  && {\n    width: 200px;\n  }\n"]);return Ne=function(){return e},e}var Ue=d.a.input(Ne()),Le=function(e){var t=e.parameters,n=void 0===t?[]:t,o=e.onChange,l=Object(a.useState)(""),c=Object(x.a)(l,2),u=c[0],i=c[1],d=Object(a.useState)(""),f=Object(x.a)(d,2),s=f[0],m=f[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n.includes(u)?m("Variable already exists"):0!==u.length?(o([].concat(Object(C.a)(n),[u])),i(""),m("")):m("Variable is empty")}},n.map((function(e){return r.a.createElement(_e.a,{key:e,label:e,onDelete:function(){return function(e){var t=n.indexOf(e),a=Object(C.a)(n);a.splice(t,1),o(a)}(e)}})})),r.a.createElement(Ue,{autoComplete:"off",value:u,type:"text",placeholder:"Add variable",id:"description",onChange:function(e){return i(e.target.value)}}),s)};function Ve(){var e=Object(i.a)(["\n  margin: 1em;\n"]);return Ve=function(){return e},e}function Be(){var e=Object(i.a)(["\n  margin: 1em;\n  display: block;\n"]);return Be=function(){return e},e}function Je(){var e=Object(i.a)(["\n  display: block;\n  flex: 1;\n  margin: 1em;\n  text-align: left;\n"]);return Je=function(){return e},e}function Ke(){var e=Object(i.a)(["\n  margin: auto;\n  text-align: center;\n"]);return Ke=function(){return e},e}function Me(){var e=Object(i.a)(["\n  display: flex;\n  height: 100%;\n  flex: auto;\n"]);return Me=function(){return e},e}var qe=d.a.div(Me()),Ye=v(H.a)(Ke()),We=d.a.div(Je()),Xe=v($.a)(Be()),ze=v(G.a)(Ve()),He=Object(c.b)((function(e,t){return{playbook:e.playbooks[t.selectedPlaybookId]}}),(function(e,t){return{updatePlaybookFields:function(n){return e(Object(L.h)(t.selectedPlaybookId,n))},addTask:function(n){return e(Object(re.d)(t.selectedPlaybookId,n))},deleteTask:function(n){return e(Object(re.e)(t.selectedPlaybookId,n))},deletePlaybook:function(){return e(Object(L.f)(t.selectedPlaybookId))}}}))((function(e){var t=e.playbook,n=e.updatePlaybookFields,a=e.addTask,o=e.deleteTask,l=e.deletePlaybook,c=function(e){return function(t){n(Object(m.a)({},e,t.target.value))}};if(!t)return r.a.createElement(qe,null,r.a.createElement(Ye,null,"Select a playbook to edit, or create a new one."));var u=t.name,i=void 0===u?"":u,d=t.description,f=void 0===d?"":d,s=t.parameters,b=void 0===s?[]:s,p=t.tasks,v=void 0===p?[]:p;return r.a.createElement(qe,null,r.a.createElement(We,null,r.a.createElement(Xe,{autoComplete:"off",value:i,label:"Name",id:"name",onChange:c("name")}),r.a.createElement(Xe,{autoComplete:"off",value:f,label:"Description",multiline:!0,rowsMax:"4",id:"description",onChange:c("description")}),r.a.createElement(Le,{onChange:function(e){return n({parameters:e})},parameters:b}),v.map((function(e){return r.a.createElement(Re,{key:e,taskId:e,deleteTask:o})})),r.a.createElement(ze,{color:"primary",variant:"contained",fullWidth:!0},Object.values(ae).map((function(e){var t=e.key,n=e.label;return r.a.createElement(F.a,{onClick:function(){return a(t)},key:t},"Add ",n)}))),r.a.createElement(F.a,{onClick:l},"Delete playbook")))}));function $e(){var e=Object(i.a)(["\n  margin: 8px;\n"]);return $e=function(){return e},e}function Ge(){var e=Object(i.a)(["\n  width: 100%;\n  text-align: right;\n"]);return Ge=function(){return e},e}var Qe=Object(d.a)(s.a)(Ge()),Ze=v(F.a)($e()),et=Object(c.b)((function(e){return{store:e}}))((function(e){var t=e.store,n=function(){!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("quicko.json",function(e){var t=Object.keys(e).reduce((function(t,n){return Object(b.a)({},t,Object(m.a)({},n,JSON.stringify(e[n])))}),{});return JSON.stringify(t)}(t))};return r.a.createElement(Qe,null,r.a.createElement(Ze,{variant:"contained",color:"primary",onClick:function(){return n()}},"Download quicko file"))}));function tt(){var e=Object(i.a)(["\n  height: 100%;\n  display: flex;\n"]);return tt=function(){return e},e}var nt=d.a.div(tt()),at=function(){var e=Object(a.useState)(),t=Object(x.a)(e,2),n=t[0],o=t[1];return r.a.createElement(a.Fragment,null,r.a.createElement(et,null),r.a.createElement(nt,null,r.a.createElement(z,{selectedPlaybookId:n,setSelectedPlaybookId:o}),r.a.createElement(He,{selectedPlaybookId:n})))},rt=Object(c.b)((function(e){return{editorOpen:Object.keys(e.playbooks).length}}))((function(e){return e.editorOpen?r.a.createElement(at,null):null}));l.a.render(r.a.createElement(c.a,{store:u.a},r.a.createElement(J,null)),document.getElementById("file-loader")),l.a.render(r.a.createElement(c.a,{store:u.a},r.a.createElement(rt,null)),document.getElementById("editor")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},19:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return f}));var a=n(81),r="UPDATE_PLAYBOOK",o="DELETE_PLAYBOOK",l="ADD_PLAYBOOK",c="LOAD_FILE",u=function(e,t){return{type:r,id:e,fields:t}},i=function(){var e={id:Object(a.a)(),name:"",description:"",parameters:[],tasks:[]};return{type:l,playbook:e}},d=function(e){return{type:o,id:e}},f=function(e){var t=e.playbooks,n=e.tasks;return{type:c,playbooks:t,tasks:n}}},22:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return i}));var a=n(81),r="UPDATE_TASK",o="ADD_TASK",l="DELETE_TASK",c=function(e,t){return{type:r,id:e,fields:t}},u=function(e,t){var n={id:Object(a.a)(),type:t};return{type:o,task:n,playbookId:e}},i=function(e,t){return{type:l,playbookId:e,id:t}}},61:function(e,t,n){"use strict";(function(e){var a=n(28),r=n(72),o=n(63),l=function(e){var t=Object(r.composeWithDevTools)(a.applyMiddleware.apply(void 0,[]));return Object(a.createStore)(o.a,e,t)}();"undefined"!==typeof e.hot&&e.hot.accept("./reducers",(function(){return l.replaceReducer(o.a)})),t.a=l}).call(this,n(70)(e))},63:function(e,t,n){"use strict";var a=n(28),r=n(15),o=n(2),l=n(55),c=n(9),u=n(26),i=n(19),d=n(22),f={},s=function(e,t,n){var a=Object(u.a)({},e[t],{},n);return Object(u.a)({},e,Object(c.a)({},t,a))},m=function(e,t){e[t];return Object(o.a)(e,[t].map(l.a))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a:return Object(u.a)({},e,Object(c.a)({},t.playbook.id,t.playbook));case i.d:var n=t.id,a=t.fields;return s(e,n,a);case d.a:var o=t.playbookId,l=e[o],b=l.tasks,p=void 0===b?[]:b,v={tasks:[].concat(Object(r.a)(p),[t.task.id])};return s(e,o,v);case i.b:return m(e,t.id);case i.c:return t.playbooks;case d.b:var y=t.id,k=t.playbookId,E=e[k],O=E.tasks.filter((function(e){return y!==e})),j={tasks:O};return s(e,k,j);default:return e}},p=function(e,t,n){var a=Object(u.a)({},e[t],{},n);return Object(u.a)({},e,Object(c.a)({},t,a))},v=function(e,t){e[t];return Object(o.a)(e,[t].map(l.a))},y={},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.c:var n=t.id,a=t.fields;return p(e,n,a);case d.a:return Object(u.a)({},e,Object(c.a)({},t.task.id,t.task));case d.b:return v(e,t.id);case i.c:return t.tasks;default:return e}};t.a=Object(a.combineReducers)({playbooks:b,tasks:k})},96:function(e,t,n){e.exports=n(109)}},[[96,1,2]]]);
//# sourceMappingURL=main.4e88eb54.chunk.js.map